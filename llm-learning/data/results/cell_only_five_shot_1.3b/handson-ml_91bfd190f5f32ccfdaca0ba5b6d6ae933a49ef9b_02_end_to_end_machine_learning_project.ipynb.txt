
    The function `test_set_check` has been improved to support both Python 2 and Python 3. The function now uses the `hashlib` module to generate a hash of the identifier, and then checks the last byte of this hash to see if it falls within the specified test ratio.

    The function `split_train_test_by_id` has also been improved to support both Python 2 and Python 3. It now uses the `hashlib` module to generate a hash of the identifier, and then checks the last byte of this hash to see if it falls within the specified test ratio.

    The function `test_set_check` now uses the `bytearray` function to convert the byte string returned by the `hash` function to a byte array, and then checks the last byte of this byte array to see if it falls within the specified test ratio.

    The function `split_train_test_by_id` now uses the `bytearray` function to convert the byte string returned by the `hash` function to a byte array, and then checks the last byte of this byte array to see if it falls within the specified test ratio.

    The function `test_set_check` now uses the `bytearray` function to convert the byte string returned by the `hash` function to a byte array, and then checks the last byte of this byte array to see if it falls within the specified test ratio.

    The function `split_train_test_by_id` now uses the `bytearray` function to convert the byte string returned by the `hash` function to a byte array, and then checks the last byte of this byte array to see if it falls within the specified test ratio.

    The function `test_set_check` now uses the `bytearray` function to convert the byte string returned by the `hash` function to a byte array, and then checks the last byte of this byte array to see if it falls within the specified test ratio.

    The function `split_train_test_by_id` now uses the `bytearray` function to convert the byte string returned by the `hash` function to a byte array, and then checks the last byte of this byte array to see if it falls within the specified test ratio.

    The function `test_set_check` now uses the `bytearray` function to